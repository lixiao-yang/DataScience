# INFO 300 Assignment 2

## 1. Student(s)

+ Lixiao Yang, ly364@drexel.edu

## 2. Tasks and Steps

## 2.1 Text Collection (2 points)

Example article:

```json
{
	"author": "Lukas Gonon, Lyudmila Grigoryeva, Juan-Pablo Ortega",
	"title": "Infinite-dimensional reservoir computing",
	"abstract": "Reservoir computing approximation and generalization bounds are proved for a new concept class of input/output systems that extends the so-called generalized Barron functionals to a dynamic context. This new class is characterized by the readouts with a certain integral representation built on infinite-dimensional state-space systems. It is shown that this class is very rich and possesses useful features and universal approximation properties. The reservoir architectures used for the approximation and estimation of elements in the new class are randomly generated echo state networks with either linear or ReLU activation functions. Their readouts are built using randomly generated neural networks in which only the output layer is trained (extreme learning machines or random feature neural networks). The results in the paper yield a fully implementable recurrent neural network-based learning algorithm with provable convergence guarantees that do not suffer from the curse of dimensionality.",
	"citations": 1347
}
```

## 2.2. Index Mapping (2 points)

### Mapping Request 1

Request 1:
```json
PUT /ly364_info300_articles
{
  "mappings": {
    "properties": {
      "author": {
        "type": "text"
      },
      "title": {
        "type": "text",
        "analyzer": "english"
      }
    }
  }
}
```

Response 1:
```json
{
  "acknowledged" : true,
  "shards_acknowledged" : true,
  "index" : "ly364_info300_articles"
}
```


### Mapping Request 2

Request:

```json
PUT /ly364_info300_articles2/_mapping
{
    "properties": {
      "abstract": {
        "type": "text",
        "analyzer": "english"
      },
      "citations": {
        "type": "integer"
      }
    }
}
```

Response:

```json
{
  "acknowledged" : true
}
```

## 2.3. Data Indexing (1 point)

Request:

```json
PUT /ly364_info300_articles/_doc/1
{
  "author": "Lukas Gonon, Lyudmila Grigoryeva, Juan-Pablo Ortega",
  "title": "Infinite-dimensional reservoir computing",
  "abstract": "Reservoir computing approximation and generalization bounds are proved for a new concept class of input/output systems that extends the so-called generalized Barron functionals to a dynamic context. This new class is characterized by the readouts with a certain integral representation built on infinite-dimensional state-space systems. It is shown that this class is very rich and possesses useful features and universal approximation properties. The reservoir architectures used for the approximation and estimation of elements in the new class are randomly generated echo state networks with either linear or ReLU activation functions. Their readouts are built using randomly generated neural networks in which only the output layer is trained (extreme learning machines or random feature neural networks). The results in the paper yield a fully implementable recurrent neural network-based learning algorithm with provable convergence guarantees that do not suffer from the curse of dimensionality.",
  "citations": 1347
}
```

Response:

```json
{
  "_index" : "ly364_info300_articles",
  "_type" : "_doc",
  "_id" : "1",
  "_version" : 1,
  "result" : "created",
  "_shards" : {
    "total" : 2,
    "successful" : 1,
    "failed" : 0
  },
  "_seq_no" : 0,
  "_primary_term" : 1
}
```

## 2.4. Search and Retrieval (1 point)

Request:

```json
GET /...
{
  "query": {
    "match": {
      "abstract": {
        "query": "machine optimal deep"
      }
    }
  }
}
```

Response (**top three** articles):

```json
{
  "took" : 8,
  "timed_out" : false,
  "_shards" : {
    "total" : 1,
    "successful" : 1,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 13,
      "relation" : "eq"
    },
    "max_score" : 3.576814,
    "hits" : [
       {
        "_index" : "ly364_info300_articles",
        "_type" : "_doc",
        "_id" : "8",
        "_score" : 3.576814,
        "_source" : {
          "author" : "Yuting Xu, Andy Liaw, Robert P. Sheridan, Vladimir Svetnik",
          "title" : "Development and Evaluation of Conformal Prediction Methods for QSAR",
          "abstract" : "The quantitative structure-activity relationship (QSAR) regression model is a commonly used technique for predicting biological activities of compounds using their molecular descriptors. Predictions from QSAR models can help, for example, to optimize molecular structure; prioritize compounds for further experimental testing; and estimate their toxicity. In addition to the accurate estimation of the activity, it is highly desirable to obtain some estimate of the uncertainty associated with the prediction, e.g., calculate a prediction interval (PI) containing the true molecular activity with a pre-specified probability, say 70%, 90% or 95%. The challenge is that most machine learning (ML) algorithms that achieve superior predictive performance require some add-on methods for estimating uncertainty of their prediction. The development of these algorithms is an active area of research by statistical and ML communities but their implementation for QSAR modeling remains limited. Conformal prediction (CP) is a promising approach. It is agnostic to the prediction algorithm and can produce valid prediction intervals under some weak assumptions on the data distribution. We proposed computationally efficient CP algorithms tailored to the most advanced ML models, including Deep Neural Networks and Gradient Boosting Machines. The validity and efficiency of proposed conformal predictors are demonstrated on a diverse collection of QSAR datasets as well as simulation studies.",
          "citations" : 1034
        }
      },
      {
        "_index" : "ly364_info300_articles",
        "_type" : "_doc",
        "_id" : "6",
        "_score" : 3.0729432,
        "_source" : {
          "author" : "Tam N. Nguyen",
          "title" : "Managing Cold-start in The Serverless Cloud with Temporal Convolutional Networks",
          "abstract" : "Serverless cloud is an innovative cloud service model that frees customers from most cloud management duties. It also offers the same advantages as other cloud models but at much lower costs. As a result, the serverless cloud has been increasingly employed in high-impact areas such as system security, banking, and health care. A big threat to the serverless cloud's performance is cold-start, which is when the time of provisioning the needed cloud resource to serve customers' requests incurs unacceptable costs to the service providers and/or the customers. This paper proposes a novel low-coupling, high-cohesion ensemble policy that addresses the cold-start problem at infrastructure- and function-levels of the serverless cloud stack, while the state of the art policies have a more narrowed focus. This ensemble policy anchors on the prediction of function instance arrivals, 10 to 15 minutes into the future. It is achievable by using the temporal convolutional network (TCN) deep-learning method. Bench-marking results on a real-world dataset from a large-scale serverless cloud provider show that TCN out-performs other popular machine learning algorithms for time series. Going beyond cold-start management, the proposed policy and publicly available codes can be adopted in solving other cloud problems such as optimizing the provisioning of virtual software-defined network assets.",
          "citations" : 684
        }
      },
      {
        "_index" : "ly364_info300_articles",
        "_type" : "_doc",
        "_id" : "20",
        "_score" : 2.7441127,
        "_source" : {
          "author" : "Peter C. Y. Chen",
          "title" : "Constrained Exploration in Reinforcement Learning with Optimality Preservation",
          "abstract" : "We consider a class of reinforcement-learning systems in which the agent follows a behavior policy to explore a discrete state-action space to find an optimal policy while adhering to some restriction on its behavior. Such restriction may prevent the agent from visiting some state-action pairs, possibly leading to the agent finding only a sub-optimal policy. To address this problem we introduce the concept of constrained exploration with optimality preservation, whereby the exploration behavior of the agent is constrained to meet a specification while the optimality of the (original) unconstrained learning process is preserved. We first establish a feedback-control structure that models the dynamics of the unconstrained learning process. We then extend this structure by adding a supervisor to ensure that the behavior of the agent meets the specification, and establish (for a class of reinforcement-learning problems with a known deterministic environment) a necessary and sufficient condition under which optimality is preserved. This work demonstrates the utility and the prospect of studying reinforcement-learning problems in the context of the theories of discrete-event systems, automata and formal languages.",
          "citations" : 4602
        },
        ...
      }
    ]
  }
}
```

## 2.5. Manual Examination

### A. Term stats (2 points)

Request for DF Stats:

```json
GET /ly364_info300_articles/_termvectors
{
  "doc": {
    "abstract": "machine optimal deep"
  },
  "term_statistics": true,
  "field_statistics": false,
  "positions": false,
  "offsets": false
}
```

Response:

```json
{
  "_index" : "ly364_info300_articles",
  "_type" : "_doc",
  "_version" : 0,
  "found" : true,
  "took" : 2,
  "term_vectors" : {
    "abstract" : {
      "terms" : {
        "deep" : {
          "doc_freq" : 7,
          "ttf" : 10,
          "term_freq" : 1
        },
        "machin" : {
          "doc_freq" : 8,
          "ttf" : 9,
          "term_freq" : 1
        },
        "optim" : {
          "doc_freq" : 4,
          "ttf" : 10,
          "term_freq" : 1
        }
      }
    }
  }
}
```

Request for TF stats in document/hit 1:

```json
GET /ly364_info300_articles/_termvectors/8
{
  "fields": ["abstract"],
  "term_statistics": true,
  "field_statistics": false,
  "positions": false,
  "offsets": false
}
```

Response:

```json
{
  "_index" : "ly364_info300_articles",
  "_type" : "_doc",
  "_id" : "8",
  "_version" : 1,
  "found" : true,
  "took" : 2,
  "term_vectors" : {
    "abstract" : {
      "terms" : {
        "70" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "90" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "95" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "accur" : {
          "doc_freq" : 5,
          "ttf" : 6,
          "term_freq" : 1
        },
        "achiev" : {
          "doc_freq" : 4,
          "ttf" : 4,
          "term_freq" : 1
        },
        "activ" : {
          "doc_freq" : 5,
          "ttf" : 9,
          "term_freq" : 5
        },
        "add" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "addit" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "advanc" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "agnost" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "algorithm" : {
          "doc_freq" : 7,
          "ttf" : 11,
          "term_freq" : 4
        },
        "approach" : {
          "doc_freq" : 8,
          "ttf" : 17,
          "term_freq" : 1
        },
        "area" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "associ" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "assumpt" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "biolog" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "boost" : {
          "doc_freq" : 2,
          "ttf" : 3,
          "term_freq" : 1
        },
        "calcul" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "can" : {
          "doc_freq" : 6,
          "ttf" : 9,
          "term_freq" : 2
        },
        "challeng" : {
          "doc_freq" : 6,
          "ttf" : 7,
          "term_freq" : 1
        },
        "collect" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "commonli" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "commun" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "compound" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "computation" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "conform" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "contain" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "cp" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "data" : {
          "doc_freq" : 6,
          "ttf" : 11,
          "term_freq" : 1
        },
        "dataset" : {
          "doc_freq" : 10,
          "ttf" : 25,
          "term_freq" : 1
        },
        "deep" : {
          "doc_freq" : 7,
          "ttf" : 10,
          "term_freq" : 1
        },
        "demonstr" : {
          "doc_freq" : 5,
          "ttf" : 6,
          "term_freq" : 1
        },
        "descriptor" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "desir" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "develop" : {
          "doc_freq" : 4,
          "ttf" : 4,
          "term_freq" : 1
        },
        "distribut" : {
          "doc_freq" : 4,
          "ttf" : 7,
          "term_freq" : 1
        },
        "divers" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "e.g" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "effici" : {
          "doc_freq" : 6,
          "ttf" : 7,
          "term_freq" : 2
        },
        "estim" : {
          "doc_freq" : 3,
          "ttf" : 7,
          "term_freq" : 4
        },
        "exampl" : {
          "doc_freq" : 4,
          "ttf" : 5,
          "term_freq" : 1
        },
        "experiment" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "from" : {
          "doc_freq" : 12,
          "ttf" : 21,
          "term_freq" : 1
        },
        "further" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "gradient" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "help" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "highli" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "implement" : {
          "doc_freq" : 4,
          "ttf" : 4,
          "term_freq" : 1
        },
        "includ" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "interv" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "learn" : {
          "doc_freq" : 13,
          "ttf" : 27,
          "term_freq" : 1
        },
        "limit" : {
          "doc_freq" : 4,
          "ttf" : 5,
          "term_freq" : 1
        },
        "machin" : {
          "doc_freq" : 8,
          "ttf" : 9,
          "term_freq" : 2
        },
        "method" : {
          "doc_freq" : 9,
          "ttf" : 13,
          "term_freq" : 1
        },
        "ml" : {
          "doc_freq" : 1,
          "ttf" : 3,
          "term_freq" : 3
        },
        "model" : {
          "doc_freq" : 15,
          "ttf" : 39,
          "term_freq" : 4
        },
        "molecular" : {
          "doc_freq" : 1,
          "ttf" : 3,
          "term_freq" : 3
        },
        "most" : {
          "doc_freq" : 5,
          "ttf" : 6,
          "term_freq" : 2
        },
        "network" : {
          "doc_freq" : 10,
          "ttf" : 21,
          "term_freq" : 1
        },
        "neural" : {
          "doc_freq" : 8,
          "ttf" : 11,
          "term_freq" : 1
        },
        "obtain" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "optim" : {
          "doc_freq" : 4,
          "ttf" : 10,
          "term_freq" : 1
        },
        "perform" : {
          "doc_freq" : 11,
          "ttf" : 18,
          "term_freq" : 1
        },
        "pi" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "pre" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "predict" : {
          "doc_freq" : 6,
          "ttf" : 16,
          "term_freq" : 9
        },
        "predictor" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "priorit" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "probabl" : {
          "doc_freq" : 3,
          "ttf" : 4,
          "term_freq" : 1
        },
        "produc" : {
          "doc_freq" : 2,
          "ttf" : 5,
          "term_freq" : 1
        },
        "promis" : {
          "doc_freq" : 2,
          "ttf" : 3,
          "term_freq" : 1
        },
        "propos" : {
          "doc_freq" : 12,
          "ttf" : 19,
          "term_freq" : 2
        },
        "qsar" : {
          "doc_freq" : 1,
          "ttf" : 4,
          "term_freq" : 4
        },
        "quantit" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "regress" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "relationship" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "remain" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "requir" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "research" : {
          "doc_freq" : 5,
          "ttf" : 8,
          "term_freq" : 1
        },
        "sai" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "simul" : {
          "doc_freq" : 4,
          "ttf" : 6,
          "term_freq" : 1
        },
        "some" : {
          "doc_freq" : 5,
          "ttf" : 8,
          "term_freq" : 3
        },
        "specifi" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "statist" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "structur" : {
          "doc_freq" : 5,
          "ttf" : 8,
          "term_freq" : 2
        },
        "studi" : {
          "doc_freq" : 6,
          "ttf" : 7,
          "term_freq" : 1
        },
        "superior" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "tailor" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "techniqu" : {
          "doc_freq" : 5,
          "ttf" : 5,
          "term_freq" : 1
        },
        "test" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "toxic" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "true" : {
          "doc_freq" : 4,
          "ttf" : 6,
          "term_freq" : 1
        },
        "uncertainti" : {
          "doc_freq" : 2,
          "ttf" : 3,
          "term_freq" : 2
        },
        "under" : {
          "doc_freq" : 3,
          "ttf" : 5,
          "term_freq" : 1
        },
        "us" : {
          "doc_freq" : 14,
          "ttf" : 29,
          "term_freq" : 2
        },
        "valid" : {
          "doc_freq" : 2,
          "ttf" : 4,
          "term_freq" : 2
        },
        "we" : {
          "doc_freq" : 17,
          "ttf" : 53,
          "term_freq" : 1
        },
        "weak" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "well" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        }
      }
    }
  }
}
```

Request for TF stats in document/hit 2:

```json
GET /ly364_info300_articles/_termvectors/6
{
  "fields": ["abstract"],
  "term_statistics": true,
  "field_statistics": false,
  "positions": false,
  "offsets": false
}
```

Response:

```json
{
  "_index" : "ly364_info300_articles",
  "_type" : "_doc",
  "_id" : "6",
  "_version" : 1,
  "found" : true,
  "took" : 3,
  "term_vectors" : {
    "abstract" : {
      "terms" : {
        "10" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "15" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "achiev" : {
          "doc_freq" : 4,
          "ttf" : 4,
          "term_freq" : 1
        },
        "address" : {
          "doc_freq" : 5,
          "ttf" : 5,
          "term_freq" : 1
        },
        "adopt" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "advantag" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "algorithm" : {
          "doc_freq" : 7,
          "ttf" : 11,
          "term_freq" : 1
        },
        "also" : {
          "doc_freq" : 6,
          "ttf" : 6,
          "term_freq" : 1
        },
        "anchor" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "area" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "arriv" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "art" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "asset" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "avail" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "bank" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "been" : {
          "doc_freq" : 4,
          "ttf" : 5,
          "term_freq" : 1
        },
        "bench" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "beyond" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "big" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "can" : {
          "doc_freq" : 6,
          "ttf" : 9,
          "term_freq" : 1
        },
        "care" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "cloud" : {
          "doc_freq" : 1,
          "ttf" : 10,
          "term_freq" : 10
        },
        "code" : {
          "doc_freq" : 2,
          "ttf" : 4,
          "term_freq" : 1
        },
        "cohes" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "cold" : {
          "doc_freq" : 1,
          "ttf" : 3,
          "term_freq" : 3
        },
        "convolut" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "cost" : {
          "doc_freq" : 2,
          "ttf" : 3,
          "term_freq" : 2
        },
        "coupl" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "custom" : {
          "doc_freq" : 2,
          "ttf" : 6,
          "term_freq" : 3
        },
        "dataset" : {
          "doc_freq" : 10,
          "ttf" : 25,
          "term_freq" : 1
        },
        "deep" : {
          "doc_freq" : 7,
          "ttf" : 10,
          "term_freq" : 1
        },
        "defin" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "duti" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "emploi" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "ensembl" : {
          "doc_freq" : 2,
          "ttf" : 7,
          "term_freq" : 2
        },
        "focu" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "free" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "from" : {
          "doc_freq" : 12,
          "ttf" : 21,
          "term_freq" : 2
        },
        "function" : {
          "doc_freq" : 6,
          "ttf" : 14,
          "term_freq" : 2
        },
        "futur" : {
          "doc_freq" : 2,
          "ttf" : 3,
          "term_freq" : 1
        },
        "go" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "ha" : {
          "doc_freq" : 5,
          "ttf" : 5,
          "term_freq" : 1
        },
        "have" : {
          "doc_freq" : 7,
          "ttf" : 8,
          "term_freq" : 1
        },
        "health" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "high" : {
          "doc_freq" : 8,
          "ttf" : 14,
          "term_freq" : 2
        },
        "impact" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "increasingli" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "incur" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "infrastructur" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "innov" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "instanc" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "larg" : {
          "doc_freq" : 4,
          "ttf" : 4,
          "term_freq" : 1
        },
        "learn" : {
          "doc_freq" : 13,
          "ttf" : 27,
          "term_freq" : 2
        },
        "level" : {
          "doc_freq" : 4,
          "ttf" : 4,
          "term_freq" : 1
        },
        "low" : {
          "doc_freq" : 6,
          "ttf" : 6,
          "term_freq" : 1
        },
        "lower" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "machin" : {
          "doc_freq" : 8,
          "ttf" : 9,
          "term_freq" : 1
        },
        "manag" : {
          "doc_freq" : 2,
          "ttf" : 3,
          "term_freq" : 2
        },
        "mark" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "method" : {
          "doc_freq" : 9,
          "ttf" : 13,
          "term_freq" : 1
        },
        "minut" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "model" : {
          "doc_freq" : 15,
          "ttf" : 39,
          "term_freq" : 2
        },
        "more" : {
          "doc_freq" : 3,
          "ttf" : 4,
          "term_freq" : 1
        },
        "most" : {
          "doc_freq" : 5,
          "ttf" : 6,
          "term_freq" : 1
        },
        "much" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "narrow" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "need" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "network" : {
          "doc_freq" : 10,
          "ttf" : 21,
          "term_freq" : 2
        },
        "novel" : {
          "doc_freq" : 5,
          "ttf" : 6,
          "term_freq" : 1
        },
        "offer" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "optim" : {
          "doc_freq" : 4,
          "ttf" : 10,
          "term_freq" : 1
        },
        "other" : {
          "doc_freq" : 4,
          "ttf" : 6,
          "term_freq" : 3
        },
        "out" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "paper" : {
          "doc_freq" : 7,
          "ttf" : 7,
          "term_freq" : 1
        },
        "perform" : {
          "doc_freq" : 11,
          "ttf" : 18,
          "term_freq" : 2
        },
        "polici" : {
          "doc_freq" : 2,
          "ttf" : 7,
          "term_freq" : 4
        },
        "popular" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "predict" : {
          "doc_freq" : 6,
          "ttf" : 16,
          "term_freq" : 1
        },
        "problem" : {
          "doc_freq" : 5,
          "ttf" : 12,
          "term_freq" : 2
        },
        "propos" : {
          "doc_freq" : 12,
          "ttf" : 19,
          "term_freq" : 2
        },
        "provid" : {
          "doc_freq" : 3,
          "ttf" : 4,
          "term_freq" : 2
        },
        "provis" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "publicli" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "real" : {
          "doc_freq" : 3,
          "ttf" : 4,
          "term_freq" : 1
        },
        "request" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "resourc" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "result" : {
          "doc_freq" : 11,
          "ttf" : 12,
          "term_freq" : 2
        },
        "same" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "scale" : {
          "doc_freq" : 4,
          "ttf" : 4,
          "term_freq" : 1
        },
        "secur" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "seri" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "serv" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "serverless" : {
          "doc_freq" : 1,
          "ttf" : 5,
          "term_freq" : 5
        },
        "servic" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "show" : {
          "doc_freq" : 8,
          "ttf" : 11,
          "term_freq" : 1
        },
        "softwar" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "solv" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "stack" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "start" : {
          "doc_freq" : 1,
          "ttf" : 3,
          "term_freq" : 3
        },
        "state" : {
          "doc_freq" : 5,
          "ttf" : 8,
          "term_freq" : 1
        },
        "system" : {
          "doc_freq" : 9,
          "ttf" : 18,
          "term_freq" : 1
        },
        "tcn" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "tempor" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "threat" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "time" : {
          "doc_freq" : 6,
          "ttf" : 10,
          "term_freq" : 2
        },
        "unaccept" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "us" : {
          "doc_freq" : 14,
          "ttf" : 29,
          "term_freq" : 1
        },
        "virtual" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "when" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "which" : {
          "doc_freq" : 12,
          "ttf" : 16,
          "term_freq" : 1
        },
        "while" : {
          "doc_freq" : 6,
          "ttf" : 7,
          "term_freq" : 1
        },
        "world" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        }
      }
    }
  }
}
```

Request for TF stats in document/hit 3:

```json
GET /ly364_info300_articles/_termvectors/20
{
  "fields": ["abstract"],
  "term_statistics": true,
  "field_statistics": false,
  "positions": false,
  "offsets": false
}
```

Response:

```json
{
  "_index" : "ly364_info300_articles",
  "_type" : "_doc",
  "_id" : "20",
  "_version" : 1,
  "found" : true,
  "took" : 0,
  "term_vectors" : {
    "abstract" : {
      "terms" : {
        "action" : {
          "doc_freq" : 2,
          "ttf" : 6,
          "term_freq" : 2
        },
        "ad" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "address" : {
          "doc_freq" : 5,
          "ttf" : 5,
          "term_freq" : 1
        },
        "adher" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "agent" : {
          "doc_freq" : 1,
          "ttf" : 5,
          "term_freq" : 5
        },
        "automata" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "behavior" : {
          "doc_freq" : 1,
          "ttf" : 4,
          "term_freq" : 4
        },
        "class" : {
          "doc_freq" : 4,
          "ttf" : 9,
          "term_freq" : 2
        },
        "concept" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "condit" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "consid" : {
          "doc_freq" : 4,
          "ttf" : 5,
          "term_freq" : 1
        },
        "constrain" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "context" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "control" : {
          "doc_freq" : 5,
          "ttf" : 6,
          "term_freq" : 1
        },
        "demonstr" : {
          "doc_freq" : 5,
          "ttf" : 6,
          "term_freq" : 1
        },
        "determinist" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "discret" : {
          "doc_freq" : 2,
          "ttf" : 3,
          "term_freq" : 2
        },
        "dynam" : {
          "doc_freq" : 4,
          "ttf" : 6,
          "term_freq" : 1
        },
        "ensur" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "environ" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "establish" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "event" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "explor" : {
          "doc_freq" : 2,
          "ttf" : 4,
          "term_freq" : 3
        },
        "extend" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "feedback" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "find" : {
          "doc_freq" : 4,
          "ttf" : 5,
          "term_freq" : 2
        },
        "first" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "follow" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "formal" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "from" : {
          "doc_freq" : 12,
          "ttf" : 21,
          "term_freq" : 1
        },
        "introduc" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "it" : {
          "doc_freq" : 5,
          "ttf" : 5,
          "term_freq" : 1
        },
        "known" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "languag" : {
          "doc_freq" : 5,
          "ttf" : 6,
          "term_freq" : 1
        },
        "lead" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "learn" : {
          "doc_freq" : 13,
          "ttf" : 27,
          "term_freq" : 5
        },
        "mai" : {
          "doc_freq" : 3,
          "ttf" : 3,
          "term_freq" : 1
        },
        "meet" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "model" : {
          "doc_freq" : 15,
          "ttf" : 39,
          "term_freq" : 1
        },
        "necessari" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "onli" : {
          "doc_freq" : 6,
          "ttf" : 6,
          "term_freq" : 1
        },
        "optim" : {
          "doc_freq" : 4,
          "ttf" : 10,
          "term_freq" : 5
        },
        "origin" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "pair" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "polici" : {
          "doc_freq" : 2,
          "ttf" : 7,
          "term_freq" : 3
        },
        "possibl" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "preserv" : {
          "doc_freq" : 1,
          "ttf" : 3,
          "term_freq" : 3
        },
        "prevent" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "problem" : {
          "doc_freq" : 5,
          "ttf" : 12,
          "term_freq" : 3
        },
        "process" : {
          "doc_freq" : 4,
          "ttf" : 8,
          "term_freq" : 2
        },
        "prospect" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "reinforc" : {
          "doc_freq" : 1,
          "ttf" : 3,
          "term_freq" : 3
        },
        "restrict" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "some" : {
          "doc_freq" : 5,
          "ttf" : 8,
          "term_freq" : 2
        },
        "space" : {
          "doc_freq" : 3,
          "ttf" : 4,
          "term_freq" : 1
        },
        "specif" : {
          "doc_freq" : 2,
          "ttf" : 3,
          "term_freq" : 2
        },
        "state" : {
          "doc_freq" : 5,
          "ttf" : 8,
          "term_freq" : 2
        },
        "structur" : {
          "doc_freq" : 5,
          "ttf" : 8,
          "term_freq" : 2
        },
        "studi" : {
          "doc_freq" : 6,
          "ttf" : 7,
          "term_freq" : 1
        },
        "sub" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "suffici" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "supervisor" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "system" : {
          "doc_freq" : 9,
          "ttf" : 18,
          "term_freq" : 2
        },
        "theori" : {
          "doc_freq" : 2,
          "ttf" : 4,
          "term_freq" : 1
        },
        "unconstrain" : {
          "doc_freq" : 1,
          "ttf" : 2,
          "term_freq" : 2
        },
        "under" : {
          "doc_freq" : 3,
          "ttf" : 5,
          "term_freq" : 1
        },
        "util" : {
          "doc_freq" : 2,
          "ttf" : 2,
          "term_freq" : 1
        },
        "visit" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "we" : {
          "doc_freq" : 17,
          "ttf" : 53,
          "term_freq" : 4
        },
        "wherebi" : {
          "doc_freq" : 1,
          "ttf" : 1,
          "term_freq" : 1
        },
        "which" : {
          "doc_freq" : 12,
          "ttf" : 16,
          "term_freq" : 2
        },
        "while" : {
          "doc_freq" : 6,
          "ttf" : 7,
          "term_freq" : 2
        },
        "work" : {
          "doc_freq" : 4,
          "ttf" : 4,
          "term_freq" : 1
        }
      }
    }
  }
}
```


Query keyword TFs and DFs in the top three hits:

| Doc ID | machine TF | machine DF | optimal TF | optimal DF | deep TF | deep DF |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|
|   8     |     2      |      8     |    1       |      4     |    1       |     7      |
|    6    |       1    |     8      |    1       |     4      |     1      |     7      |
|   20     |     0      |     8      |    5       |    4       |     0      |     7      |


### B. TF*IDF (1 point)

TF*IDF weights:

| Doc ID | machine    | optimal    | deep    |     SUM   |
|--------|-----------|-----------|-----------|-----------|
|     8   |  0.796  |  0.699  |  0.456  |  1.951  |
|    6    |   0.398| 0.699 |   0.456 |  1.553  |
|    20    |     0      |  3.495  |      0     |  3.495 |


Rank the documents using SUM of TF*IDF.
The rank of the documents is: 20, 8, 6

Are they ranked in the same order as in ElasticSearch results?
No, they are not the same order as in ElasticSearch.

### C. Cosine Similarity (1 point)

Query IDF ($1\times IDF$) weights:

| machine    | optimal    | deep |
|-----------|-----------|------|
|0.39794|0.69897|0.45593|

Cosine similarities:

1. Cosine(Q, doc8) = Cosine((0.39794,0.69897,0.45593), (1.832581,1.609438,1.049822)) = 0.95025
2. Cosine(Q, doc6) = Cosine((0.39794,0.69897,0.45593), (0.916291,1.609438,1.049822)) = 1.0
3. Cosine(Q, doc20) = Cosine((0.39794,0.69897,0.45593), (0,8.04719,0)) = 0.75601

Rank the documents using Cosine scores.
*The rank of the documents is: 6, 8, 20*

Are they ranked in the same order as in TF*IDF SUM or ElasticSearch results?
No. The rank is in the reverse order as in TFIDF, also not in the same order as in ElasticSearch.
